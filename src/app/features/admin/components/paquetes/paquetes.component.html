<div class="space-y-6">
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
    <h2 class="text-2xl font-bold text-neutral-900">Paquetes</h2>
    <button
      (click)="onCrear()"
      class="inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors"
    >
      <i class="fas fa-box mr-2"></i>
      Nuevo Paquete
    </button>
  </div>

  <div class="bg-white rounded-xl shadow-soft p-4">
    <div class="flex-1 relative mb-4">
      <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"></i>
      <input
        type="text"
        [(ngModel)]="terminoBusqueda"
        (input)="onBuscar(terminoBusqueda)"
        placeholder="Buscar por nombre..."
        class="w-full pl-10 pr-10 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"
      />
      <button
        *ngIf="terminoBusqueda"
        (click)="onLimpiarBusqueda()"
        type="button"
        class="absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600 transition-colors"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="border-t border-neutral-200 pt-4">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-sm font-semibold text-neutral-700">Filtros</h3>
        <button
          (click)="mostrarFiltros = !mostrarFiltros"
          type="button"
          class="text-sm text-primary-600 hover:text-primary-700 transition-colors"
        >
          <i [class.fa-chevron-down]="!mostrarFiltros" [class.fa-chevron-up]="mostrarFiltros" class="fas mr-1"></i>
          {{ mostrarFiltros ? 'Ocultar' : 'Mostrar' }} filtros
        </button>
      </div>

      <div *ngIf="mostrarFiltros" class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div>
          <label class="block text-sm font-medium text-neutral-700 mb-2">
            Estado
          </label>
          <select
            [(ngModel)]="filtros.activo"
            (change)="onAplicarFiltros(filtros)"
            class="w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none"
          >
            <option [ngValue]="undefined">Todos</option>
            <option [ngValue]="true">Activo</option>
            <option [ngValue]="false">Inactivo</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-neutral-700 mb-2">
            Fecha Inicio
          </label>
          <app-datepicker
            [(ngModel)]="fechaInicioFiltro"
            [maxDate]="fechaMaxima"
            placeholder="Seleccione fecha inicio"
            (ngModelChange)="onFechaInicioChange($event)"
          ></app-datepicker>
        </div>

        <div>
          <label class="block text-sm font-medium text-neutral-700 mb-2">
            Fecha Fin
          </label>
          <app-datepicker
            [(ngModel)]="fechaFinFiltro"
            [maxDate]="fechaMaxima"
            placeholder="Seleccione fecha fin"
            (ngModelChange)="onFechaFinChange($event)"
          ></app-datepicker>
        </div>

        <div class="flex items-end">
          <button
            (click)="onLimpiarFiltros()"
            type="button"
            class="w-full px-4 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50 transition-colors"
          >
            <i class="fas fa-times mr-2"></i>
            Limpiar filtros
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-6">
    <app-tabla-paginada
    titulo=""
    textoBotonCrear=""
    iconoBotonCrear=""
    placeholderBusqueda=""
    [datos]="datos"
    [cargando]="cargando"
    [columnas]="columnas"
    [acciones]="false"
    [mostrarBusqueda]="false"
    [mostrarPaginacion]="true"
    (cambiarPagina)="onCambiarPagina($event)"
    (cambiarTamanoPagina)="onCambiarTamanoPagina($event)"
    (filaClick)="onFilaClick($event)"
    (ordenar)="onOrdenar($event)"
    ></app-tabla-paginada>
  </div>
</div>

